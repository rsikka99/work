<?php 
$id = $this->id;
?>

<div class="clearfix">
	<h1><?php echo $this->devicename; ?></h1>
</div>

<div class="tabbable"> <!-- Only required for left/right tabs -->
    <ul class="nav nav-tabs">
    	<li><a href="<?php echo $this->url( array ( 'module' => 'quotegen', 'controller' => 'devicesetup', 'action' => 'edit', 'id' => $id ), null, true ); ?>">Details</a></li>
    	<li><a href="<?php echo $this->url( array ( 'module' => 'quotegen', 'controller' => 'devicesetup', 'action' => 'toners', 'id' => $id ), null, true ); ?>">Toners</a></li>
    	<li><a href="<?php echo $this->url( array ( 'module' => 'quotegen', 'controller' => 'devicesetup', 'action' => 'options', 'id' => $id ), null, true ); ?>">Options</a></li>
    	<li class="active"><a href="#tab4" data-toggle="tab">Configurations</a></li>
    </ul>
    <div class="tab-content">
		<form name="frmOptions" id="frmOptions" action="" method="post">
			<input type="hidden" name="configurationid" id="configurationid" value="" />
			
			<div id="filter" class="well">
				<label for="cboView" class="details_label" style="display: inline; padding: 0px 0px 0px 0px;">View:</label>
				<select name="cboView" id="cboView" class="filter_dropdown" style="width: 160px; margin: 0px 0px 0px 10px;">
					<option value="all" <?php if ($this->view_filter == "all") { echo "selected"; } ?>>All</option>
					<option value="assigned" <?php if ($this->view_filter == "assigned") { echo "selected"; } ?>>Assigned</option>
					<option value="unassigned" <?php if ($this->view_filter == "unassigned") { echo "selected"; } ?>>Unassigned</option>
				</select>
				<input type="submit" name="btnSearch" id="btnSearch" value="Go" class="btn" />
			</div>
			
			<?php if (isset($this->paginator) && $this->paginator->count() > 0) : ?>
		
				<table class="table table-striped table-condensed table-bordered">
				    <thead>
				        <tr>
				            <th style="width: 30px;">ID</th>
				            <th style="width: 200px;">Configuration Name</th>
				            <th>Description</th>
				            <th style="width: 100px; text-align: center;">Edit</th>
				            <th style="width: 100px; text-align: center;">Action</th>
				        </tr>
				    </thead>
				    <tbody>
				    	
				        <?php 
				        foreach ($this->paginator as $configuration) : /* @var $configuration Quotegen_Model_DeviceConfiguration */ ?>
				        <tr>
				            <td><?php echo $configuration->getId(); ?></td>
				            <td><?php echo $configuration->getName(); ?></td>
				            <td><?php echo $configuration->getDescription(); ?></td>
				            <td>
				                <div class="" style="text-align: center;">
				                    <a class="btn btn-warning btn-mini" title="Edit Configuration" href="<?php echo $this->url( array ( 'action' => 'edit', 'id' => $configuration->getId())); ?>"><i class="icon-pencil icon-white"></i></a>
				                    <a class="btn btn-danger btn-mini" title="Delete Configuration" href="<?php echo $this->url(array ( 'action' => 'delete', 'id' => $configuration->getId())); ?>"><i class="icon-trash icon-white"></i></a>
				                </div>
				            </td>
		                    <td style="text-align: center;">
								<div class="" style="text-align: center;">
									<?php if ( in_array($configuration->getId(), $this->assignedConfigurations ) ) { ?>
										<button type="submit" name="btnUnassign" id="btnUnassign" class="btn btn-danger btn-mini" onclick="javascript: $('#configurationid').val(<?php echo $configuration->getId(); ?>);"><i class="icon-minus-sign icon-white"></i> Unassign</button>
									<?php } else { ?>
										<button type="submit" name="btnAssign" id="btnAssign" class="btn btn-success btn-mini" onclick="javascript: $('#configurationid').val(<?php echo $configuration->getId(); ?>);"><i class="icon-plus-sign icon-white"></i> Assign</button>
									<?php } ?>
								</div>
							</td>
				        </tr>
				        <?php endforeach; ?>
				        
				    </tbody>
				</table>
				<?php echo $this->paginationControl($this->paginator); ?>
				
			<?php else : ?>
			    
			    <h4>There are no configurations</h4>
			    
			<?php endif; ?>
			
			<div style="text-align: center;">
				<a class="btn" title="Done" href="<?php echo $this->url( array ( 'module' => 'quotegen', 'controller' => 'devicesetup', 'action' => 'index' ), null, true ); ?>">Done</a>
			</div>
		</form>
    </div>
</div>
