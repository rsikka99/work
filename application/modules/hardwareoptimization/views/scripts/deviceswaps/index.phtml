<?php $this->headScript()->appendFile($this->baseUrl('js/app/legacy/hardwareoptimization/DeviceSwap.js')); ?>
<div class="container">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <div class="pull-right"> <button class="btn btn-success btn-xs" id="createNewBtn">Create new</button> </div>
            Manage Device Swaps
        </div>
        <div class="panel-body">
            <table id='deviceSwapsTable'></table>
        </div>
        <div class="panel-footer">
            <sup>*</sup><em>Cost per page for devices are derived using OEM toners.</em>
        </div>
    </div>

    <div class="panel panel-primary">
        <div class="panel-heading">
            <div class="pull-right"><button class="btn btn-success btn-xs" id="createReasonBtn">Create New</button></div>
            Device Swap Change Logic Text
        </div>
        <div class="panel-body">
            <table id='deviceReasonTable' class="scroll"></table>
        </div>
    </div>
</div>


<!-- Modals -->
<div class="modal fade" id="deviceAddModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Create / Edit Device Swap</h4>
            </div>
            <div class="modal-body">
                    <div class="alert alert-danger" id="save-error" style="display: none;">
                </div>
                <?= $this->form ?>
                <p>Note only devices that have been enabled in the hardware library can be added to device swaps. Go to the All Devices Icon and enter the device
                    you would like to add, then it will show up under the "create new" button.
                </p>
            </div>

            <div class="modal-footer">
                <button type="button" id="saveDevice" class="btn btn-primary">Save</button>
                <button type="button" id="cancelSave" class="btn cancelBtn">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="deleteModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Confirm Delete Device Swap</h4>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this device swap?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default cancelBtn">Cancel</button>
                <button type="button" id="deleteDeviceBtn" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="deleteReasonModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Confirm Delete Swap Reason</h4>
            </div>
            <div class="modal-body">
                <div class="alert" id="device-swap-error-message">
                </div>
                <p>Are you sure you want to delete this swap reason?</p>
            </div>
            <div class="modal-footer">
                <button type="button" id="cancelSwapBtn" class="btn btn-default cancelBtn">Cancel</button>
                <button type="button" id="deleteSwapBtn" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="reasonAddModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Create / Edit Swap Reason</h4>
            </div>
            <div class="modal-body">
                    <div class="alert alert-danger" id="reason-add-save-error" style="display: none;"></div>
                <?= $this->deviceSwapForm; ?>
            </div>
            <div class="modal-footer">
                <button type="button" id="saveDeviceReason" class="btn btn-primary">Save</button>
                <button type="button" id="cancelSave" class="btn cancelBtn">Cancel</button>
            </div>
        </div>
    </div>
</div>